<!DOCTYPE html>
<html>

<head>
    <title>Sphinx Relay</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link rel="icon" href="/static/sphinx-logo.png">
    <link rel="stylesheet" href="public/css/bootstrap.min.css" crossorigin="anonymous">
    <!-- <script src="public/js/jquery-3.6.0.min.js" crossorigin="anonymous"></script> -->
    <!-- <script src="public/js/bootstrap.bundle.js" crossorigin="anonymous"></script> -->
    <style>
        html {
            font-family: Arial, Helvetica, sans-serif;
            color: white;
        }

        body {
            background: #292a2d;
            display: flex;
            flex-direction: column;
        }

        #qr-wrap {
            background: white;
            width: 300px;
            height: 300px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
        }

        img {
            height: 100px;
            width: 100px;
            margin-top: 20px;

        }

        label {
            color: aliceblue;
        }
    </style>
</head>


<body>
    <div class="text-center">
        <img src="public/sphinx-logo.png" alt="logo" />
    </div>



    <div class="row ml-5 mr-5 mt-5">
        <div class="col-sm-4">
            <label>Port</label>
        </div>
        <div class="col-sm-8">
            <div class="input-group input-group-sm">
                <input id="port" value="3300" class="form-control">
                <div class="input-group-append">
                    <button type="button" onclick="showDetails('port')" class="btn btn-info btn-sm btn-info">
                        more
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="row ml-5 mr-5 mt-3">
        <div class="col-sm-4">
            <label>Node IP</label>
        </div>
        <div class="col-sm-8">
            <div class="input-group input-group-sm">
                <input id="node_ip" value="0.0.0.0" class="form-control">
                <div class="input-group-append">
                    <button type="button" onclick="showDetails('node_ip')" class="btn btn-info btn-sm btn-info">
                        more
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row ml-5 mr-5 mt-3">
        <div class="col-sm-4">
            <label>Environment</label>
        </div>
        <div class="col-sm-8">
            <div class="input-group input-group-sm">
                <input id="env" value="production" class="form-control">
                <div class="input-group-append">
                    <button type="button" onclick="showDetails('env')" class="btn btn-info btn-sm btn-info">
                        more
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row ml-5 mr-5 mt-3">
        <div class="col-sm-4">
            <label>LND IP</label>
        </div>
        <div class="col-sm-8">
            <div class="input-group input-group-sm">
                <input id="lnd_ip" value="localhost" class="form-control">
                <div class="input-group-append">
                    <button type="button" onclick="showDetails('lnd_ip')" class="btn btn-info btn-sm btn-info">
                        more
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row ml-5 mr-5 mt-3">
        <div class="col-sm-4">
            <label>LND Port</label>
        </div>
        <div class="col-sm-8">
            <div class="input-group input-group-sm">
                <input id="lnd_port" value="10009" class="form-control">
                <div class="input-group-append">
                    <button type="button" onclick="showDetails('lnd_port')" class="btn btn-info btn-sm btn-info">
                        more
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row ml-5 mr-5 mt-3">
        <div class="col-sm-4">
            <label>LND Macaroon Location</label>
        </div>
        <div class="col-sm-8">
            <div class="input-group input-group-sm">
                <input id="macaroon_location" value="" placeholder="Absolute Path to admin.macaroon"
                    class="form-control">
                <div class="input-group-append">
                    <button type="button" onclick="showDetails('macaroon_location')"
                        class="btn btn-info btn-sm btn-info">
                        more
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="row ml-5 mr-5 mt-3">
        <div class="col-sm-4">
            <label>LND TLS Location</label>
        </div>
        <div class="col-sm-8">
            <div class="input-group input-group-sm">
                <input id="tls_location" value="" placeholder="Absolute Path to tls.cert" class="form-control">
                <div class="input-group-append">
                    <button type="button" onclick="showDetails('tls_location')" class="btn btn-info btn-sm btn-info">
                        more
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="row ml-5 mr-5 mt-3">
        <div class="col-sm-4">
            <label>Public URL</label>
        </div>
        <div class="col-sm-8">
            <div class="input-group input-group-sm">
                <input id="public_url" value="localhost:3300" class="form-control">
                <div class="input-group-append">
                    <button type="button" onclick="showDetails('public_url')" class="btn btn-info btn-sm btn-info">
                        more
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- 
    <div class="row ml-5 mr-5 mt-3">
        <div class="col-sm-4">
            <label>XXX</label>
        </div>
        <div class="col-sm-8">
            <div class="input-group input-group-sm">
                <input id="xxxx" value="" class="form-control">
                <div class="input-group-append">
                    <button type="button" onclick="showDetails('xxxx')" class="btn btn-info btn-sm btn-info">
                        more
                    </button>
                </div>
            </div>
        </div>
    </div> -->

    <div class="row ml-5 mr-5 mt-5">


        <div class="col-sm-3">
            <button class="btn btn-warning btn-block" onclick="updateConfig()">Update</button>
        </div>
        <div class="col-sm-2">

        </div>

        <div class="col-sm-2">

        </div>

        <div class="col-sm-2">

        </div>
        <div class="col-sm-3">
            <button class="btn btn-secondary btn-block" onclick="openDevConsole()">Dev Console</button>
        </div>

    </div>


    <script>
        const { ipcRenderer } = require('electron');
        const version = document.getElementById('app-version');

        ipcRenderer.on('console.log', (event, value) => {
            console.log(...value.args)
        });
        ipcRenderer.on('console.error', (event, value) => {
            console.error(...value.args)
        });

        function updateConfig() {
            ipcRenderer.send('update.config', { a: 345 });

        }
        function openDevConsole() {
            ipcRenderer.send('open.dev.console',);
        }
    </script>
    <!-- 
    <script>
        (function () {
            const QRious = require('./public/js/qrious.js');
            var qr = new QRious({
                element: document.getElementById('qr'),
                value: 'CONNECTION_STRING',
                size: 300
            });
        })();
    </script>
    <script>
        function get(id) { return document.getElementById(id) }

        const chan = get('chan')
        const chanText = get('chan-text')

        if (window.channelIsOpen) {
            chan.checked = true
            chanText.innerHTML = 'You have an open channel'
        } else {
            chanText.innerHTML = 'You need to open a channel'
        }

        const fees = get('fees')
        const feesText = get('fees-text')

        if (window.channelFeesBaseZero) {
            fees.checked = true
            feesText.innerHTML = 'You have set your fee base to 0'
        } else {
            feesText.innerHTML = 'You need to set your fee base to 0'
        }

        const bal = get('bal')
        const balText = get('bal-text')

        if (window.hasRemoteBalance) {
            bal.checked = true
            balText.innerHTML = 'You have remote balance'
        } else {
            balText.innerHTML = 'You need remote balance (2% of channel size recommended)'
        }

        const qrWrap = get('qr-wrap')
        const connString = get('connection-string')
        const qrText = get('qr-text')

        const readyToGo = window.hasRemoteBalance && window.channelFeesBaseZero && window.channelIsOpen

        if (window.isSignedUp) {
            qrText.innerHTML = "You have connected your app!"
        } else if (readyToGo) {
            qrWrap.style.display = 'flex'
            qrText.style.display = 'block'
            connString.style.display = 'block'
        }
    </script> 
-->
</body>

</html>