<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
</head>

<body style="background: white;">
    <h1>Hello World!</h1>
    <p>
        We are using Node.js <span id="node-version"></span>,
        Chromium <span id="chrome-version"></span>,
        and Electron <span id="electron-version"></span>.
    </p>
    <p>
        App <span id="app-version">0</span>
    </p>
    <button onclick="updateConfig()">Update</button>

    <script>
        const { ipcRenderer } = require('electron');
        const version = document.getElementById('app-version');

        ipcRenderer.send('app_version');
        ipcRenderer.on('app_version', (event, arg) => {
            ipcRenderer.removeAllListeners('app_version');
            version.innerText = 'Version ' + arg.version;
        });
        ipcRenderer.on('console.log', (event, value) => {
            console.log(...value.args)
        });

        function updateConfig() {
            ipcRenderer.send('update.config', { a: 345 });
        }
    </script>
</body>

</html>